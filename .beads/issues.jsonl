{"id":"graphdb-0a2","title":"TDD: Storage module - graphcol, compaction, entity index","description":"Red-Green-Refactor TDD for storage module:\n- GraphCol format encoding/decoding\n- Data compaction\n- Entity index operations\n- Chunk management","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:02:14.477592-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:31:34.421184-06:00","closed_at":"2026-01-21T10:31:34.421184-06:00","close_reason":"TDD complete"}
{"id":"graphdb-0c1","title":"feat: Add schema migration CLI tooling","description":"CLI commands for schema versioning and migrations. Currently programmatic only.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:34.995085-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:14:04.087053-06:00","closed_at":"2026-01-20T18:14:04.087053-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-0ys","title":"P1: Add timeout check in recursive traversal loop","description":"executor.ts:674-725 executeRecurse has MAX_PATH_DEPTH but no timeout. High fan-out graphs could cause long execution.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:00.125725-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:09:14.907266-06:00","closed_at":"2026-01-20T17:09:14.907266-06:00","close_reason":"Fixed in Wave 2"}
{"id":"graphdb-1ip","title":"GREEN: Index FTS query pattern fixes","description":"Fix FTS query patterns to make test/index/fts-query-patterns.test.ts pass (2 failing tests).\n\nFailing tests:\n1. Diacritics normalization - FTS not normalizing accented characters\n2. SQL injection 'TABLE' keyword - needs sanitization\n\nFile: src/index/fts-index.ts or src/security/fts-sanitizer.ts","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:33:46.185718-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:33:46.185718-06:00","dependencies":[{"issue_id":"graphdb-1ip","depends_on_id":"graphdb-upv","type":"blocks","created_at":"2026-01-21T10:33:57.533111-06:00","created_by":"Nathan Clevenger"}]}
{"id":"graphdb-2i7","title":"P2: Persist metrics to survive DO eviction","description":"BrokerDO metrics are in-memory only. On DO eviction, metrics are lost.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:18.374991-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:19:05.179938-06:00","closed_at":"2026-01-20T17:19:05.179938-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-3be","title":"docs: Add query language documentation","description":"Query DSL exists but README examples are brief. Add comprehensive docs.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:37.564277-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:14:04.134938-06:00","closed_at":"2026-01-20T18:14:04.134938-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-3fi","title":"P1: Add pagination to vector cache loading","description":"sqlite-index-store.ts:1446 loadVectorCache loads ALL vectors into memory. For 100K+ vectors this could cause OOM (128MB limit).","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:51:58.602067-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:09:14.890778-06:00","closed_at":"2026-01-20T17:09:14.890778-06:00","close_reason":"Fixed in Wave 2"}
{"id":"graphdb-3gv","title":"test: Add E2E tests against real Cloudflare","description":"Current tests use vitest mocks. Add integration tests with real Cloudflare deployment.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:39.161671-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:09:14.955251-06:00","closed_at":"2026-01-20T17:09:14.955251-06:00","close_reason":"Fixed in Wave 2"}
{"id":"graphdb-3yi","title":"feat: Implement CoordinatorDO for cross-shard coordination","description":"Replace stub with real implementation. Required for distributed transactions and cross-shard queries.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:32.239607-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:14:04.042901-06:00","closed_at":"2026-01-20T18:14:04.042901-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-4hf","title":"P2: Add Known Limitations section to README","description":"Document CoordinatorDO stub status and cross-shard query limitations.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:20.934426-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:19:05.218175-06:00","closed_at":"2026-01-20T17:19:05.218175-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-60w","title":"TDD: Index module - FTS, HNSW, geo, combined","description":"Red-Green-Refactor TDD for index module:\n- Full-text search indexing\n- HNSW vector index\n- Geo-spatial index\n- Combined/hybrid search","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:02:15.779319-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:31:34.422576-06:00","closed_at":"2026-01-21T10:31:34.422576-06:00","close_reason":"TDD complete"}
{"id":"graphdb-6la","title":"P1: Add error logging in HNSW node connections","description":"sqlite-index-store.ts:1356 getNodeConnections silently swallows SQL errors. Should log for debugging.","status":"closed","priority":1,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:01.336362-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:09:14.923312-06:00","closed_at":"2026-01-20T17:09:14.923312-06:00","close_reason":"Fixed in Wave 2"}
{"id":"graphdb-8b6","title":"GREEN: Index geo edge case fix","description":"Fix geo edge case to make test/index/geo-edge-cases.test.ts pass (1 failing test).\n\nFailing test:\n- Bering Strait coordinates need verification\n\nMay be a test data issue or haversine calculation edge case.\n\nFile: src/index/geo-index.ts","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:33:49.285585-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:33:49.285585-06:00","dependencies":[{"issue_id":"graphdb-8b6","depends_on_id":"graphdb-upv","type":"blocks","created_at":"2026-01-21T10:33:57.986656-06:00","created_by":"Nathan Clevenger"}]}
{"id":"graphdb-9b8","title":"BLOCKER: Fix hash inconsistency between orchestrator and router","description":"orchestrator.ts uses hashToShard() while router.ts uses fnv1aHash(). These could route differently causing data inconsistency.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:51:57.267916-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:01:38.725417-06:00","closed_at":"2026-01-20T17:01:38.725417-06:00","close_reason":"Fixed - in-memory store gated behind test mode, hash consolidated to fnv1aHash"}
{"id":"graphdb-9lm","title":"GREEN: Broker retry orchestration \u0026 circuit breaker","description":"Implement retry logic and circuit breaker pattern to make test/broker/retry-orchestration.test.ts pass (14 failing tests).\n\nFeatures needed:\n- Automatic retry on HTTP 503, timeouts, network errors\n- Configurable retry limits and exponential backoff\n- Circuit breaker pattern (open, half-open, close states)\n- Partial failure handling with allowPartialResults\n- Per-step and query-level timeout handling\n\nFile: src/broker/orchestrator.ts","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:33:27.808437-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:33:27.808437-06:00"}
{"id":"graphdb-9ue","title":"GREEN: Broker response validation \u0026 transformation","description":"Implement response validation to make test/broker/response-validation-extended.test.ts pass (16 failing tests).\n\nFeatures needed:\n- Schema validation for all types\n- Required/optional field validation with nullable\n- Deep validation of nested objects/arrays\n- Partial response validation with projection\n- Response transformation (sanitization, redaction)\n- Type coercion (string to number/boolean)\n- Error aggregation with field paths\n- Custom validators and cross-field validation\n\nFile: src/broker/response-validator.ts","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:33:31.257216-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:33:31.257216-06:00"}
{"id":"graphdb-b5o","title":"P2: Add bundled size check to CI for snippet layer","description":"Snippet layer must stay under 32KB. Add CI check to prevent regression.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:21.24396-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:19:05.237142-06:00","closed_at":"2026-01-20T17:19:05.237142-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-b6c","title":"P2: Use ObjectType.GEO_POINT instead of magic number 13","description":"geo-index.ts:122 uses literal 13 instead of ObjectType.GEO_POINT.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:16.681169-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:19:05.161851-06:00","closed_at":"2026-01-20T17:19:05.161851-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-bvk","title":"BLOCKER: Remove in-memory store from GraphAPITarget","description":"GraphAPITarget has #entities and #triples maps that bypass Shard layer entirely. Must remove or gate behind test flag for production.","status":"closed","priority":0,"issue_type":"bug","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:51:56.895702-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:01:38.723523-06:00","closed_at":"2026-01-20T17:01:38.723523-06:00","close_reason":"Fixed - in-memory store gated behind test mode, hash consolidated to fnv1aHash"}
{"id":"graphdb-f5o","title":"TDD: Query module - parser, planner, executor","description":"Red-Green-Refactor TDD for query module:\n- Query parsing and AST generation\n- Query plan optimization\n- Execution engine\n- Result aggregation","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:02:10.156047-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:31:34.416418-06:00","closed_at":"2026-01-21T10:31:34.416418-06:00","close_reason":"TDD complete"}
{"id":"graphdb-gdj","title":"feat: Add OpenTelemetry integration for observability","description":"Export metrics and traces via OpenTelemetry for production monitoring.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:33.561179-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:14:04.059255-06:00","closed_at":"2026-01-20T18:14:04.059255-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-hi2","title":"TDD: Core module - types, validation, entity handling","description":"Red-Green-Refactor TDD for core module:\n- Entity types and validation\n- Schema validation\n- Type guards and utilities\n- Error handling patterns","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:02:07.370478-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:31:34.412348-06:00","closed_at":"2026-01-21T10:31:34.412348-06:00","close_reason":"TDD complete"}
{"id":"graphdb-i5p","title":"P1: Optimize handleFilter to use POS index","description":"shard-do.ts handleFilter fetches all triples then filters in-memory. Should use POS index.","status":"closed","priority":1,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:02.395416-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:09:14.939321-06:00","closed_at":"2026-01-20T17:09:14.939321-06:00","close_reason":"Fixed in Wave 2"}
{"id":"graphdb-k4m","title":"TDD: Shard module - SQL ops, schema, batch","description":"Red-Green-Refactor TDD for shard module:\n- SQL statement generation\n- Schema migrations\n- Batch insert/update operations\n- Transaction handling","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:02:11.704433-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:31:34.418299-06:00","closed_at":"2026-01-21T10:31:34.418299-06:00","close_reason":"TDD complete"}
{"id":"graphdb-lxp","title":"TDD: Security module - auth, permissions, sanitizers","description":"Red-Green-Refactor TDD for security module:\n- Authentication flows\n- Permission checking\n- FTS query sanitization\n- JSON input validation\n- Injection prevention","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:02:08.529444-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:31:34.414543-06:00","closed_at":"2026-01-21T10:31:34.414543-06:00","close_reason":"TDD complete"}
{"id":"graphdb-nlb","title":"GREEN: Broker advanced caching (SWR, warming, optimistic)","description":"Implement advanced caching patterns to make test/broker/cache-advanced.test.ts pass (23 failing tests).\n\nFeatures needed:\n- Stale-while-revalidate (SWR) pattern\n- Cache warming strategies (preemptive, conditional)\n- TTL configuration based on response type\n- Invalidation on mutation with cascade support\n- Cross-instance cache coherence\n- Version-based validation\n- Optimistic caching (update, confirm, rollback)\n- Conflict detection and resolution\n- Cache metrics tracking\n\nFile: src/broker/edge-cache.ts","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:33:29.989703-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:33:29.989703-06:00"}
{"id":"graphdb-r2n","title":"feat: Add backup/restore from R2 CDC lakehouse","description":"CDC streaming exists but replay/restore is not productionized.","status":"closed","priority":2,"issue_type":"feature","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:36.300521-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T18:14:04.111169-06:00","closed_at":"2026-01-20T18:14:04.111169-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-rbu","title":"P2: Fix dependency inversion - storage imports from shard","description":"Storage layer imports CDCEvent from shard/triggers. Move CDCEvent to core/ or storage/.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:14.816283-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:19:05.144282-06:00","closed_at":"2026-01-20T17:19:05.144282-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-u2d","title":"TDD: Import module - batching, streaming, resumable","description":"Red-Green-Refactor TDD for import module:\n- Batch import operations\n- Streaming data ingestion\n- Resumable imports\n- Error recovery","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:02:16.949051-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:31:34.424258-06:00","closed_at":"2026-01-21T10:31:34.424258-06:00","close_reason":"TDD complete"}
{"id":"graphdb-upv","title":"GREEN: Index hybrid search implementation","description":"Implement hybrid search to make test/index/hybrid-search.test.ts pass (32 failing tests).\n\nFeatures needed in src/index/hybrid-search.ts:\n- normalizeScore() for BM25, cosine, geo_distance\n- combineScores() with configurable weights\n- reciprocalRankFusion() for multi-source results\n- hybridSearch() combining FTS + Vector + Geo\n- Fusion methods: weighted average, RRF\n- Handle empty results, duplicates, edge cases\n\nCurrently a stub module with 'Not implemented' errors.","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:33:45.166185-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:33:45.166185-06:00"}
{"id":"graphdb-vg9","title":"P2: Standardize WebSocket messages on capnweb RPC","description":"broker-do.ts uses ad-hoc message types alongside RPC. Migrate all to capnweb.","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-20T16:52:19.530998-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-20T17:19:05.20145-06:00","closed_at":"2026-01-20T17:19:05.20145-06:00","close_reason":"Fixed in Wave 3"}
{"id":"graphdb-vl4","title":"GREEN: Broker cross-shard coordination","description":"Implement cross-shard coordination to make test/broker/cross-shard-coordination.test.ts pass (15 failing tests).\n\nFeatures needed:\n- Parallel shard execution with concurrency limits\n- Result ordering preservation\n- Union, intersection, ordered merge strategies\n- Cross-shard deduplication with version preference\n- Consistency models (read-your-writes, quorum)\n- Scatter-gather with aggregation\n- Early termination when limit reached\n- Shard health awareness and replica fallback\n\nFile: src/broker/orchestrator.ts","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:33:28.845327-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:33:28.845327-06:00"}
{"id":"graphdb-w8d","title":"TDD: Broker module - orchestration, caching, validation","description":"Red-Green-Refactor TDD for broker module:\n- Request orchestration\n- Response caching\n- Cross-shard coordination\n- Response validation","status":"closed","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:02:12.973385-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:31:34.419838-06:00","closed_at":"2026-01-21T10:31:34.419838-06:00","close_reason":"TDD complete"}
{"id":"graphdb-xs5","title":"GREEN: Index HNSW accuracy improvements","description":"Improve HNSW accuracy to make test/index/hnsw/accuracy.test.ts pass (2 failing tests).\n\nFailing tests:\n1. 80% recall on clustered data - recall below threshold\n2. Sub-linear scaling timing edge case\n\nMay need tuning of ef_search, M parameters or algorithm improvements.\n\nFile: src/index/hnsw/","status":"open","priority":2,"issue_type":"task","owner":"4130910+nathanclevenger@users.noreply.github.com","created_at":"2026-01-21T10:33:48.186863-06:00","created_by":"Nathan Clevenger","updated_at":"2026-01-21T10:33:48.186863-06:00","dependencies":[{"issue_id":"graphdb-xs5","depends_on_id":"graphdb-upv","type":"blocks","created_at":"2026-01-21T10:33:57.718134-06:00","created_by":"Nathan Clevenger"}]}
